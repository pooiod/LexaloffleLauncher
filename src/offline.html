<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lexaloffle Launcher (Offline)</title>
    <style>
        body {
            background-color: #1D1D22;
            color: #d8d8d8;
            font-family: 'Source Sans Pro', sans-serif, system-ui;
            margin: 0;
            padding: 2em;
        }
        h1 {
            text-align: center;
            color: #ff004d;
            border-bottom: 2px solid #4a4a58;
            padding-bottom: 10px;
            margin-bottom: 2em;
        }
        #app-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
        }
        .app-card {
            background-color: #2a2a34;
            width: 300px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: border-top-color 0.2s ease;
        }
        .icon-container {
            width: 100%;
            height: 225px;
            background-color: #1D1D22;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .icon-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }
        .icon-placeholder {
            font-size: 5em;
            color: #4a4a58;
        }
        .card-content {
            padding: 15px;
            text-align: center;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .card-content h2 {
            margin: 0 0 15px 0;
            font-size: 1.5em;
        }
        .custom-btn {
            width: 80%;
            margin: 0 auto;
            font-family: 'Source Sans Pro', sans-serif !important;
            font-weight: bold !important;
            font-size: 16px !important;
            color: #fff !important;
            background-color: #ff004d !important;
            transition: background 0.1s;
            border: none !important;
            padding: 10px 20px !important;
            cursor: pointer !important;
            text-transform: uppercase !important;
            border-radius: 3px;
        }
        .custom-btn:hover {
            background-color: #a5113d !important;
        }
        #message {
            text-align: center;
            font-size: 1.2em;
            color: #888;
        }

        ::-webkit-scrollbar {
            width: 12px !important;
            height: 12px !important;
        }

        ::-webkit-scrollbar-track {
            background: #202020 !important;
        }

        ::-webkit-scrollbar-thumb {
            background-color: #555 !important;
            border-radius: 6px !important;
            border: 3px solid #202020 !important;
        }
    </style>
</head>
<body>
    <h1>Installed Lexaloffle Applications</h1>
    <div id="app-container"></div>
    <p id="message"></p>
    <script>
        window.addEventListener('pywebviewready', () => {
            pywebview.api.get_local_apps().then(apps => {
                const container = document.getElementById('app-container');
                const messageEl = document.getElementById('message');
                if (!apps || apps.length === 0) {
                    messageEl.textContent = 'No locally installed apps.';
                    return;
                }
                messageEl.style.display = 'none';
                apps.forEach(app => {
                    const card = document.createElement('div');
                    card.className = 'app-card';
                    const iconHtml = app.icon 
                        ? `<img src="${app.icon}">`
                        : `<div class="icon-placeholder">
<svg version="1.1" id="Uploaded to svgrepo.com" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 width="200px" height="200px" viewBox="0 0 32 32" xml:space="preserve">
<style type="text/css">
	.isometric_een{fill:#F8F7C5;}
	.isometric_vier{fill:#AD9A74;}
	.isometric_vijf{fill:#F29227;}
	.isometric_zes{fill:#F28103;}
	.isometric_zeven{fill:#FF7344;}
	.isometric_acht{fill:#F05A28;}
	.isometric_tien{fill:#7BD6C4;}
	.isometric_twaalf{fill:#569080;}
	.isometric_dertien{fill:#225B49;}
	.st0{fill:#72C0AB;}
	.st1{fill:#BE1E2D;}
	.st2{fill:#F5DF89;}
	.st3{fill:#F2D76C;}
	.st4{fill:#F28103;}
	.st5{fill:#7BD6C4;}
</style>
<g>
	<path class="isometric_een" d="M24.529,13.982l-7.292-4.965C14.079,7.155,9.529,6.694,6.75,8.025
		c-3.262,1.562-2.72,4.484,0.264,6.528l6.716,4.6c2.984,2.044,7.909,2.867,11.171,1.305C27.829,19.067,27.667,16.163,24.529,13.982z
		"/>
	<path class="isometric_dertien" d="M13.962,11.237c-0.624-0.361-0.792-0.464-0.964-0.569l0.953-0.55
		c0.242-0.14,0.345-0.329,0.308-0.512V8.797c0.061-0.497-1.028-0.985-1.846-0.513c-1.398,0.807-1.024,0.591-1.744,1.007L8.914,8.278
		C8.073,7.792,6.93,8.295,7.066,8.811c0,0.235-0.001,0.715,0,0.852c0.001,0.16,0.107,0.321,0.32,0.443l0.975,0.563
		c-0.018,0.01-1.065,0.605-1.17,0.737c-0.089,0.111-0.12,0.217-0.108,0.316c0.001,0.215,0.002,0.741,0,0.885
		c-0.009,0.592,1.232,0.812,1.853,0.453l1.745-1.007l1.755,1.013c0.78,0.45,1.749,0.078,1.84-0.362
		c0.006-0.645,0.005-0.888,0.004-0.973C14.313,11.566,14.226,11.39,13.962,11.237z M19.367,14.81
		c-0.015,0.203-0.178,1.157-0.217,1.34c-0.034,0.159-0.172,0.307-0.408,0.42c-0.526,0.252-1.241,0.194-1.722-0.136
		c-0.224-0.153-0.335-0.323-0.337-0.485c-0.002-0.187,0.159-1.231,0.235-1.432c0.012-0.032,0.044-0.062,0.066-0.093
		c-0.135,0.219-0.067,0.47,0.256,0.691c0.482,0.33,1.196,0.388,1.722,0.136C19.207,15.134,19.341,14.977,19.367,14.81z"/>
	<path class="isometric_acht" d="M22.961,18.252c-0.526,0.252-1.241,0.194-1.722-0.136c-0.323-0.221-0.391-0.472-0.256-0.691
		c-0.021,0.031-0.053,0.06-0.066,0.093c-0.076,0.201-0.237,1.245-0.235,1.432c0.002,0.163,0.113,0.332,0.337,0.485
		c0.482,0.33,1.196,0.388,1.722,0.136c0.236-0.113,0.375-0.261,0.408-0.42c0.039-0.183,0.202-1.137,0.217-1.34
		C23.341,17.977,23.207,18.134,22.961,18.252z"/>
	<path class="isometric_zeven" d="M23.036,17.289c-0.509-0.349-1.21-0.382-1.722-0.137c-0.462,0.221-0.565,0.629-0.076,0.964
		c0.482,0.33,1.196,0.388,1.722,0.136C23.479,18.004,23.5,17.607,23.036,17.289z"/>
	<path class="isometric_twaalf" d="M12.434,12.12l-1.755-1.013l-1.745,1.007c-0.806,0.465-2.269-0.053-1.744-0.708
		c0.106-0.132,1.969-1.177,1.951-1.187l0,0L7.385,9.16C6.384,8.582,7.878,7.68,8.914,8.278l1.755,1.013
		c0.721-0.416,0.346-0.2,1.744-1.007c1.031-0.595,2.494,0.335,1.538,0.888l-1.744,1.03c0.05,0.029,0.05-0.029,0,0
		c1.025,0.592,0.578,0.356,1.755,1.036C14.951,11.809,13.446,12.704,12.434,12.12z M19.036,14.289
		c-0.509-0.349-1.21-0.382-1.722-0.137c-0.462,0.221-0.565,0.629-0.076,0.964c0.482,0.33,1.196,0.388,1.722,0.136
		c0.295-0.141,0.4-0.329,0.407-0.455C19.377,14.627,19.269,14.448,19.036,14.289z"/>
	<path class="isometric_twaalf" d="M22.961,15.252c-0.526,0.252-1.241,0.194-1.722-0.136c-0.323-0.221-0.391-0.472-0.256-0.691
		c-0.021,0.031-0.053,0.06-0.066,0.093c-0.076,0.201-0.237,1.245-0.235,1.432c0.002,0.163,0.113,0.332,0.337,0.485
		c0.482,0.33,1.196,0.388,1.722,0.136c0.236-0.113,0.375-0.261,0.408-0.42c0.039-0.183,0.202-1.137,0.217-1.34
		C23.341,14.977,23.207,15.134,22.961,15.252z"/>
	<path class="isometric_tien" d="M23.036,14.289c-0.509-0.349-1.21-0.382-1.722-0.137c-0.462,0.221-0.565,0.629-0.076,0.964
		c0.482,0.33,1.196,0.388,1.722,0.136c0.295-0.141,0.4-0.329,0.407-0.455C23.377,14.627,23.269,14.448,23.036,14.289z"/>
	<path class="isometric_zes" d="M18.961,18.252c-0.526,0.252-1.241,0.194-1.722-0.136c-0.323-0.221-0.391-0.472-0.256-0.691
		c-0.021,0.031-0.053,0.06-0.066,0.093c-0.076,0.201-0.237,1.245-0.235,1.432c0.002,0.163,0.113,0.332,0.337,0.485
		c0.482,0.33,1.196,0.388,1.722,0.136c0.236-0.113,0.375-0.261,0.408-0.42c0.039-0.183,0.202-1.137,0.217-1.34
		C19.341,17.977,19.207,18.134,18.961,18.252z"/>
	<path class="isometric_vijf" d="M19.036,17.289c-0.509-0.349-1.21-0.382-1.722-0.137c-0.462,0.221-0.565,0.629-0.076,0.964
		c0.482,0.33,1.196,0.388,1.722,0.136c0.295-0.141,0.4-0.329,0.407-0.455C19.377,17.627,19.269,17.448,19.036,17.289z"/>
	<path class="isometric_vier" d="M26.992,17.778c-0.044,1.069-0.736,2.036-2.091,2.68c-3.262,1.563-8.187,0.74-11.171-1.305
		l-6.716-4.6c-1.531-1.049-2.419-2.329-2.48-3.538c0,0.002,0,0.003,0,0.005c-0.154,1.098-0.222,2.851-0.273,3.294
		c-0.148,1.291,0.681,2.746,2.464,3.968l6.716,4.6c2.977,2.039,7.902,2.87,11.171,1.305c1.23-0.589,1.916-1.436,2.071-2.38
		C26.776,21.227,27,18.99,27,18.001C27,17.933,26.998,17.858,26.992,17.778z"/>
</g>
</svg>
                        </div>`;
                    card.innerHTML = `
                        <div class="icon-container">
                            ${iconHtml}
                        </div>
                        <div class="card-content">
                            <h2>${app.display}</h2>
                            <button class="custom-btn" onclick="launchApp('${app.name}')">Launch</button>
                        </div>
                    `;
                    container.appendChild(card);
                });
            });
        });
        function launchApp(appName) {
            pywebview.api.launch_app(appName);
        }
    </script>
</body>
</html>
